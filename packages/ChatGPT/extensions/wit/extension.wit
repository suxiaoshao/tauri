package extension: host;


interface extension-api {
  enum role {
    developer,
    user,
    assistant,
  }

  record message {
    role: role,
    content: string,
  }
  record chat-request {
    messages: list<message>,
  }
  record chat-response{
    message: string
  }
  on-request: func(request: chat-request) -> result<chat-request,string>;
  on-response: func(response: chat-response) -> result<chat-response,string>;
  get-name: func() -> string;
}


world host {
  import get-selected-text: func()-> result<string,string>;
  export extension-api;
}
